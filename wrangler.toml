name = "iofold-validation"
main = "src/index.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# NOTE: Run `npx wrangler d1 create iofold_validation` to create the database
# Then replace the database_id below with the actual ID from the output
[[d1_databases]]
binding = "DB"
database_name = "iofold_validation"
database_id = "REPLACE_WITH_ACTUAL_DATABASE_ID"

# Cloudflare Sandbox for Python code execution
[[env.production.services]]
binding = "Sandbox"
service = "cloudflare/sandbox"

# For local development, you'll need to configure a local sandbox
# or mock the sandbox binding in tests
[[env.development.services]]
binding = "Sandbox"
service = "cloudflare/sandbox"

[vars]
ENVIRONMENT = "development"
